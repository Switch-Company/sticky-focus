/**
 * @switch-company/sticky-focus - Ensure focused element is not under a sticky element
 * @version v1.0.0
 * @link undefined
 * @license ISC
 **/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e["sticky-focus"]=t()}(this,function(){"use strict";var e=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();return function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!e.elements)throw new Error("No elements array passed.");this._handleFocus=this._handleFocus.bind(this),this.update(e.elements),delete e.elements,this.options=Object.assign({padding:0},e),this._listen()}return e(t,[{key:"_listen",value:function(){document.body.addEventListener("focus",this._handleFocus,!0)}},{key:"_handleFocus",value:function(t){if(!this._data.find(function(e){return e.el.contains(t.target)})){var e=t.target.getBoundingClientRect().top,n=document.documentElement.scrollTop||document.body.scrollTop;if(e<this._currentHeight){var i=Math.floor(n-(this._currentHeight-e+this.options.padding));document.documentElement.scrollTop=document.body.scrollTop=i}}}},{key:"refresh",value:function(){this.update(this.elements)}},{key:"restart",value:function(e){e?this.update(e):this.refresh(),this._listen()}},{key:"stop",value:function(){document.body.removeEventListener("focus",this._handleFocus,!0)}},{key:"update",value:function(e){this.elements=e,this._data=e.map(function(e){return{el:e,height:e.getBoundingClientRect().bottom}}),this._currentHeight=Math.ceil(Math.max.apply(null,this._data.map(function(e){return e.height})))}},{key:"currentHeight",get:function(){return this._currentHeight}}]),t}()});
